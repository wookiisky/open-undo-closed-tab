# Undo Close Tab - Chrome扩展

一个强大的Chrome扩展，用于记录、搜索和恢复已关闭的标签页。

## ✨ 主要功能

- 📝 **自动记录**：自动记录所有关闭的标签页（过滤Chrome内部页面）
- 🔍 **智能搜索**：在标题和URL中快速搜索，支持高亮显示匹配文本
- 📄 **分页浏览**：支持分页查看大量历史记录
- ⚡ **高性能**：使用虚拟滚动技术，流畅处理数百条记录
- ⚙️ **灵活配置**：可自定义保存数量、显示数量、弹层尺寸等
- 💾 **数据管理**：支持导出、导入和清空历史记录

## 🚀 安装方法

1. 下载或克隆此仓库到本地
2. 打开Chrome浏览器，访问 `chrome://extensions/`
3. 开启右上角的「开发者模式」
4. 点击「加载已解压的扩展程序」
5. 选择项目根目录 `undo-close-tab`
6. 扩展安装完成！

## 📖 使用指南

### 基本使用

1. **查看关闭的标签页**
   - 点击工具栏上的扩展图标
   - 弹出页面会显示所有已关闭的标签页列表
   - 每项显示标题、URL和关闭时间

2. **恢复标签页**
   - 在列表中点击任意项即可恢复该标签页
   - 恢复后可选择是否从列表中删除该记录（在设置中配置）

3. **搜索功能**
   - 在顶部搜索框输入关键词
   - 搜索会实时过滤标题和URL中包含关键词的标签页
   - 匹配的文本会高亮显示

4. **分页浏览**
   - 使用底部的分页按钮切换页面
   - 页码显示当前页和总页数

### 高级配置

点击弹出页面右上角的设置按钮⚙️，进入配置页面：

#### 基本设置
- **最大保存数量**：设置保留的已关闭标签页数量上限（10-5000，默认500）
- **每页显示数量**：设置弹出页面列表每页显示的数量（5-100，默认20）
- **恢复后删除记录**：勾选后，打开标签页会自动从历史中移除

#### 弹层外观
- **弹层宽度**：自定义弹出窗口宽度（300-800px，默认400px）
- **弹层高度**：自定义弹出窗口高度（400-800px，默认600px）

#### 数据管理
- **导出记录**：将所有历史记录导出为JSON文件
- **导入记录**：从JSON文件导入历史记录（支持合并去重）
- **清空所有记录**：删除所有已保存的历史记录

## 🎨 技术特点

### 性能优化
- **虚拟滚动**：只渲染可见区域的DOM元素，支持流畅滚动数百条记录
- **搜索防抖**：300ms防抖延迟，减少不必要的计算
- **智能缓存**：缓存标签页信息，减少storage读取

### 设计特色
- **现代化深色主题**：采用渐变背景和玻璃态效果
- **平滑动画**：所有交互都有流畅的过渡效果
- **响应式设计**：适配不同尺寸窗口

## 📂 项目结构

```
undo-close-tab/
├── manifest.json           # 扩展配置文件
├── background.js           # 后台服务worker
├── popup/
│   ├── popup.html         # 弹出页面
│   ├── popup.css          # 弹出页面样式
│   └── popup.js           # 弹出页面逻辑（含虚拟滚动）
├── options/
│   ├── options.html       # 配置页面
│   ├── options.css        # 配置页面样式
│   └── options.js         # 配置页面逻辑
└── icons/
    ├── icon16.png         # 16x16图标
    ├── icon48.png         # 48x48图标
    └── icon128.png        # 128x128图标
```

## 🔒 隐私说明

- 所有数据都存储在本地（`chrome.storage.local`和`chrome.storage.sync`）
- 不会向任何外部服务器发送数据
- 仅收集关闭的标签页信息（标题、URL、关闭时间、图标）
- 自动过滤Chrome内部页面（chrome://、edge://等）

## 🛠️ 开发说明

本扩展基于Chrome Manifest V3开发，主要技术：

- **Manifest V3**：最新的Chrome扩展规范
- **Service Worker**：后台服务，替代传统background页面
- **Chrome Storage API**：本地和同步存储
- **虚拟滚动**：自实现的高性能列表渲染方案

## 📝 更新日志

### v1.0.0 (2025)
- ✨ 首次发布
- ✅ 基本的标签页记录和恢复功能
- ✅ 搜索和分页功能
- ✅ 虚拟滚动性能优化
- ✅ 配置页面
- ✅ 数据导出/导入

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request！

---

💡 **提示**：推荐设置一个快捷键来快速打开扩展！在 `chrome://extensions/shortcuts` 中可以为此扩展设置键盘快捷键。
